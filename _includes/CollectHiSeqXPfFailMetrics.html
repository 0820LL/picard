<h3 id="CollectHiSeqXPfFailMetrics">CollectHiSeqXPfFailMetrics</h3>
<section>
<p>Classify PF-Failing reads in a HiSeqX Illumina Basecalling directory into various categories.<p>This tool categorizes the reads that did not pass filter (PF-Failing) into four groups.  These groups are based on a heuristic that was derived by looking at a few titration experiments. </p><p>After examining the called bases from the first 24 cycles of each read, the PF-Failed reads are grouped into the following four categories: <ul><li>MISALIGNED - The first 24 basecalls of a read are uncalled (numNs~24).   These types of reads appear to be flow cell artifacts because reads were only found near tile boundaries and were concentration (library) independent</li> <li>EMPTY - All 24 bases are called (numNs~0) but the number of bases with quality scores greater than two is less than or equal to eight (numQGtTwo<=8).  These reads were location independent within the tiles and were inversely proportional to the library concentration</li><li>POLYCLONAL - All 24 bases were called and numQGtTwo>=12, were independent of their location with the tiles, and were directly proportional to the library concentration.  These reads are likely the result of PCR artifacts </li><li>UNKNOWN - The remaining reads that are PF-Failing but did not fit into any of the groups listed above</li></ul></p>  <p>The tool defaults to the SUMMARY output which indicates the number of PF-Failed reads per tile and groups them into the categories described above accordingly.</p> <p>A DETAILED metrics option is also available that subdivides the SUMMARY outputs by the x- y- position of these reads within each tile.  To obtain the DETAILED metric table, you must add the PROB_EXPLICIT_READS option to your command line and set the value between 0 and 1.  This value represents the fractional probability of PF-Failed reads to send to output.  For example, if PROB_EXPLICIT_READS=0, then no metrics will be output.  If PROB_EXPLICIT_READS=1, then it will provide detailed metrics for all (100%) of the reads.  It follows that setting the PROB_EXPLICIT_READS=0.5, will provide detailed metrics for half of the PF-Failed reads.</p> <p>Note: Metrics labeled as percentages are actually expressed as fractions!</p><h4>Usage example: (SUMMARY Metrics)</h4> <pre>java -jar picard.jar CollectHiSeqXPfFailMetrics \<br />      BASECALLS_DIR=/BaseCalls/ \<br />      OUTPUT=/metrics/ \<br />      LANE=001</pre><h4>Usage example: (DETAILED Metrics)</h4><pre>java -jar picard.jar CollectHiSeqXPfFailMetrics \<br />      BASECALLS_DIR=/BaseCalls/ \<br />      OUTPUT=/Detail_metrics/ \<br />      LANE=001 \<br />      PROB_EXPLICIT_READS=1</pre>Please see our documentation on the <a href='https://broadinstitute.github.io/picard/picard-metric-definitions.html#CollectHiSeqXPfFailMetrics.PFFailSummaryMetric'>SUMMARY</a> and <a href='https://broadinstitute.github.io/picard/picard-metric-definitions.html#CollectHiSeqXPfFailMetrics.PFFailDetailedMetric'>DETAILED</a> metrics for comprehensive explanations of the outputs produced by this tool.<hr /></p>
<table>
<tr><th>Option</th><th>Description</th></tr>
<tr><td>BASECALLS_DIR (File)</td><td>The Illumina basecalls directory.   Required. </td></tr>
<tr><td>OUTPUT (File)</td><td>Basename for metrics file. Resulting file will be <OUTPUT>.pffail_summary_metrics  Required. </td></tr>
<tr><td>PROB_EXPLICIT_READS (Double)</td><td>The fraction of (non-PF) reads for which to output explicit classification. Output file will be <OUTPUT>.pffail_detailed_metrics (if PROB_EXPLICIT_READS != 0)  Default value: 0.0. This option can be set to 'null' to clear the default value. </td></tr>
<tr><td>LANE (Integer)</td><td>Lane number.  Required. </td></tr>
<tr><td>NUM_PROCESSORS (Integer)</td><td>Run this many PerTileBarcodeExtractors in parallel.  If NUM_PROCESSORS = 0, number of cores is automatically set to the number of cores available on the machine. If NUM_PROCESSORS < 0 then the number of cores used will be the number available on the machine less NUM_PROCESSORS.  Default value: 1. This option can be set to 'null' to clear the default value. </td></tr>
<tr><td>N_CYCLES (Integer)</td><td>Number of cycles to look at. At time of writing PF status gets determined at cycle 24 so numbers greater than this will yield strange results. In addition, PF status is currently determined at cycle 24, so running this with any other value is neither tested nor recommended.  Default value: 24. This option can be set to 'null' to clear the default value. </td></tr>
</table>
</section>
